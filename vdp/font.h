#include<array>
#include<cstdint>

std::array<std::array<uint8_t, 8>, 16> hexFont = {{{0b0010,
                                                    0b0101,
                                                    0b0101,
                                                    0b0101,
                                                    0b0101,
                                                    0b0101,
                                                    0b0010,
                                                    0}, // 0
                                                   {0b0010,
                                                    0b0110,
                                                    0b0010,
                                                    0b0010,
                                                    0b0010,
                                                    0b0010,
                                                    0b0111,
                                                    0}, // 1
                                                   {0b0010,
                                                    0b0101,
                                                    0b0001,
                                                    0b0010,
                                                    0b0100,
                                                    0b0100,
                                                    0b0111,
                                                    0}, // 2
                                                   {0b0010,
                                                    0b0101,
                                                    0b0001,
                                                    0b0010,
                                                    0b0001,
                                                    0b0101,
                                                    0b0010,
                                                    0}, // 3
                                                   {0b0001,
                                                    0b0101,
                                                    0b0101,
                                                    0b0111,
                                                    0b0001,
                                                    0b0001,
                                                    0b0001,
                                                    0}, // 4
                                                   {0b0111,
                                                    0b0100,
                                                    0b0100,
                                                    0b0110,
                                                    0b0001,
                                                    0b0001,
                                                    0b0110,
                                                    0}, // 5
                                                   {0b0011,
                                                    0b0100,
                                                    0b0100,
                                                    0b0111,
                                                    0b0101,
                                                    0b0101,
                                                    0b0010,
                                                    0}, // 6
                                                   {0b0111,
                                                    0b0001,
                                                    0b0001,
                                                    0b0010,
                                                    0b0010,
                                                    0b0010,
                                                    0b0010,
                                                    0}, // 7
                                                   {0b0010,
                                                    0b0101,
                                                    0b0101,
                                                    0b0010,
                                                    0b0101,
                                                    0b0101,
                                                    0b0010,
                                                    0}, // 8
                                                   {0b0010,
                                                    0b0101,
                                                    0b0101,
                                                    0b0111,
                                                    0b0001,
                                                    0b0001,
                                                    0b0110,
                                                    0}, // 9
                                                   {0b0010,
                                                    0b0101,
                                                    0b0101,
                                                    0b0111,
                                                    0b0101,
                                                    0b0101,
                                                    0b0101,
                                                    0}, // A
                                                   {0b0110,
                                                    0b0101,
                                                    0b0101,
                                                    0b0110,
                                                    0b0101,
                                                    0b0101,
                                                    0b0110,
                                                    0}, // B
                                                   {0b0010,
                                                    0b0101,
                                                    0b0100,
                                                    0b0100,
                                                    0b0100,
                                                    0b0101,
                                                    0b0010,
                                                    0}, // C
                                                   {0b0110,
                                                    0b0101,
                                                    0b0101,
                                                    0b0101,
                                                    0b0101,
                                                    0b0101,
                                                    0b0110,
                                                    0}, // D
                                                   {0b0111,
                                                    0b0100,
                                                    0b0100,
                                                    0b0110,
                                                    0b0100,
                                                    0b0100,
                                                    0b0111,
                                                    0}, // E
                                                   {0b0111,
                                                    0b0100,
                                                    0b0100,
                                                    0b0110,
                                                    0b0100,
                                                    0b0100,
                                                    0b0100,
                                                    0}}}; // F

std::array<uint8_t, 8> getFontTileLine(uint8_t value, uint8_t row) {
    uint8_t digitLine = ((hexFont[(value & 0xf0)>>4][row]<<4) + (hexFont[value & 0x0f][row]));
    std::array<uint8_t, 8> retval;
    uint8_t mask = 128;
    for(int x = 0; x < 8; x++) {
        retval[x] = (digitLine & mask) >> (7 - x);
        mask>>=1;
    }
    return retval;
}
